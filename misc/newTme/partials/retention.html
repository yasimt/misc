<section class="mainSection" subtract="500">
	<section class="mainContain" ng-if="retention.errorCode == 0">
		<h3 class="marBot10px" ng-if="mainPage	==	'search'">Below is your Search Result :</h3>
		<nav ng-if="mainPage	!=	'search'" class="left margin8 slideIndi" >
			<div class="left arrow marTop10px" ng-if="setArrowPos==1" ng-click="slideright($event)"><img ng-src="img/arrow-left.png" /></div>
			<div class="navSlider left">
				<ul class="navFilters left width100 marBot30px marTop10px repPop setTotContWidth" style=" height: 40px;">
					
					<li  ng-click="showSubMenu($event)" class="left lastLiTop">Report
						<ul class="hide submenuUl" style="height: 120%;overflow-x: hidden;overflow-y: scroll;width: 40%;">
							<li class="left" ng-model="dispSelected" style="color:red;font-weight:bold;" ng-repeat="(key, value) in retention.act_count" ng-if = "value.key == 'Pending' || value.key == 'Ringing' || value.key == 'Follow Up' ||  value.key == 'Reallocated' || value.key == 'Rejected'" value="{{value.val}}" ng-click="value.key != 'Retained Percentage' ? $state.go('appHome.filter',{srchparam:value.val,srchWhich:'ecs_actions',currPage:'retention'}) : false">{{value.val}} / </li>
							<li class="left" ng-model="dispSelected" style="font-weight:bold;"ng-repeat="(key, value) in retention.act_count" ng-if = "value.key != 'Pending' && value.key != 'Ringing' && value.key != 'Follow Up' && value.key != 'Repeat Call' && value.key != 'Reallocated' && value.key != 'Rejected' && value.key != 'Retained Percentage'" value="{{value.val}}" ng-click="value.key != 'Retained Percentage' ? $state.go('appHome.filter',{srchparam:value.val,srchWhich:'ecs_actions',currPage:'retention'}) : false">{{value.val}} / </li>
							<li class="left" ng-model="dispSelected" style="color:#FF9900;font-weight:bold;" ng-repeat="(key, value) in retention.act_count" ng-if = "value.key == 'Retained Percentage'" value="{{value.val}}" ng-click="value.key != 'Retained Percentage' ? $state.go('appHome.filter',{srchparam:value.val,srchWhich:'ecs_actions',currPage:'retention'}) : false">{{value.val}} / </li>
						</ul>
					</li>
					</li><span class="left">/</span>
					
					<li ng-click="$state.go('appHome.filter',{srchparam:'all',srchWhich:'',currPage:'retention'})" class="left">All</li><span class="left">/</span>
					<li ng-click="showSubMenu($event)" class="left">compname
						<ul class="hide submenuUl">
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'compname',srchWhich:'order-asc',currPage:'retention'})">ORDER ASC</li><span class="left">/</span>
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'compname',srchWhich:'order-desc',currPage:'retention'})">ORDER DESC</li>
						</ul>
					</li><span class="left">/</span>
					<li ng-click="showSubMenu($event)" class="left">tme status
						<ul class="hide submenuUl">
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'followup',srchWhich:'where',currPage:'retention'})">FOLLOW UP</li><span class="left">/</span>
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'retain',srchWhich:'where',currPage:'retention'})">RETAIN</li><span class="left">/</span>
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'stoptme',srchWhich:'where',currPage:'retention'})">STOPPED BY TME</li>
						</ul>
					</li><span class="left">/</span>
					<li ng-click="$state.go('appHome.filter',{srchparam:'repeatCall',srchWhich:'where',currPage:'retention'})" class="left">Repeat Call</li><span class="left">/</span>
					<li ng-click="showSubMenu($event)" class="left">Head Status
						<ul class="hide submenuUl">
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'approved',srchWhich:'where',currPage:'retention'})">APPROVED</li><span class="left">/</span>
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'rejected',srchWhich:'where',currPage:'retention'})">REJECTED</li><span class="left">/</span>
						</ul>
					</li><span class="left">/</span>
					<li ng-click="showSubMenu($event)" class="left lastLiTop">Date
						<ul class="hide submenuUl">
							<li class="left" ng-click="sortdate('asc')">ORDER ASC</li><span class="left">/</span>
							<li class="left" ng-click="sortdate('desc')">ORDER DESC</li><span class="left">/</span>
						</ul>
					</li><span class="left">/</span>
					<li ng-click="showSubMenu($event)" class="left lastLiTop">Source
						<ul class="hide submenuUl" style="margin-left:-13%;">
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'web_dialer',srchWhich:'where',currPage:'retention'})">Web Dialer</li><span class="left">/</span>
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'phone search',srchWhich:'where',currPage:'retention'})">Phone Search</li><span class="left">/</span>
							<li class="left" ng-click="$state.go('appHome.filter',{srchparam:'iro',srchWhich:'where',currPage:'retention'})">IRO</li><span class="left">/</span>
						</ul>
					</li><span class="left">/</span>
				</ul>
			</div>
			<div class="left arrow marTop10px" ng-if="setArrowPos==1" ng-click="slideleft($event)"><img ng-src="img/arrow-right.png" /></div>
		</nav>
		<div class="left inputIndiSrch" ng-if='viewParam ==1'><input type="text" class="SearchCompany" id='view1searchbox' ng-model="model.compFilter" placeholder="Search in loaded Contracts within this page" ></div>
		<div class="left inputIndiSrch"><input type="text" class="SearchCompany" id='view2searchbox' ng-if='viewParam ==2'  placeholder="Search in loaded Contracts within this page" ng-keyup='checktext()' ></div>
		<div class="left width50 slideIndi" ng-if="mainPage	!=	'search'">
			<div class="left arrow marTop10px ng-scope" ng-click="sliderRightPage($event)" ng-if="setArrowPosPage==1">
				<img ng-src="img/arrow-left.png" src="img/arrow-left.png">
			</div>
			<div class="pageSlider left">
				<ul class="left text-center navFilters setTotContWidthPage repPop">
					<li ng-class="{selectedPage: $index==selectedIndex || (selectedIndex == '' && n == 0)}" class="left pointer pageLi" ng-repeat="n in [] | range:pageContracts" ng-click="clickLoad(n)">{{n+1}}</li>
				</ul>
			</div>
			<div class="left arrow marTop10px ng-scope" ng-click="slideleftPage($event)" ng-if="setArrowPosPage==1">
				<img ng-src="img/arrow-right.png" src="img/arrow-right.png">
			</div>
		</div>
		<div class="divbackground" ng-click="model.compFilter = ''"><img class="very-small-cross" ng-show="model.compFilter" ng-src="img/blackCross.jpeg"></div>
		<div class="divbackground" ng-click="clearsearch()"><img class="very-small-cross" ng-show="showx" ng-src="img/blackCross.jpeg"></div>
		<div class="right marBot10px"><div class="left marRt10px" ng-click="changeView($event,2)"><img ng-src="img/list.png" /></div><div class="left marRt20px" ng-click="changeView($event,1)"><img ng-src="img/grid.png" /></div></div>
		
        <div class='melist_div' ng-show='showoverlay' >
			<div class='popup' ng-show='showoption'>
					<div class='meoption blcak' ng-click="showmepopup('notinvoled')">Marketing Executive Not Involved</div>
					<div class='meoption black' ng-click="showmepopup('involed')">Marketing Executive Involved</div>
			</div>
			
			<div class='popup' ng-show='showmelist'>
				<div class='Metitle black'>
					 Search a ME:<input  placeholder='Enter Me Name' meauto  ng-model='searchedme[0]' size='33px' /> 
					 <center>
						<div class='mebutton' ng-click='storeme(retainedparentid)' >submit</div>
					</center>
				</div>
			</div>
			
			<div class='popup' ng-show='showdaterange' style="height: 200px; width: 460px;">
				<span style="float:right;color:red;font-size: 28px;padding: 5px;cursor: pointer;" ng-click="close_popup()">X</span>
				<div style="text-align:center;padding: 45px;">
						<md-radio-group ng-model="retention_model.month_option" style="display:block">
							<center><div style="font-size:25px">Skip for:</div></center>
							<md-radio-button value="1" class="md-primary" style="display:inline-block">1 month</md-radio-button>
							<md-radio-button value="2" class="md-primary" style="display:inline-block">2 month</md-radio-button>
						</md-radio-group>
						
						<center> <div class='mebutton' ng-click='requestToDo($event,main_arr,24,0,$index,0)' style="padding:4px;width: 65px;">submit</div> </center>
				</div>
			</div>
			
	    </div>
			
		<div class="incDiv left width100">
			<div class="panelDiv repeat-animation contDivs left" ng-repeat="contract in retention.data | filter:model.compFilter" ng-if="viewParam	==	1">
				<div class="innerContDiv">  
					
					<div class="compNameTile blue pointer" ng-click="goToBform(contract)">
						<h3 class="blue" ng-if="(contract.repeat_call !=1 && contract.repeat_call!=2 && contract.request_source != 'web_dialer')">{{(contract.compname == '' || contract.compname == null) && 'Company Name Not Found' || contract.compname }}</h3>
						
						<h3 style="color:red !important;font-weight: bold;"  ng-if="(contract.repeat_call==1 || contract.repeat_call==2 && contract.request_source != 'web_dialer')" >{{(contract.compname == '' || contract.compname == null) && 'Company Name Not Found' || contract.compname }}</h3>
						
						<h3 style="color:  #e6004c !important;font-weight: bold;"  ng-if="contract.request_source == 'web_dialer'" >{{(contract.compname == '' || contract.compname == null) && 'Company Name Not Found' || contract.compname }}</h3>
					</div>
					<div> <p style="pointer-events: none;font-size: 22px;margin-left: 300px;margin-top: -30px;color:#1278b7;" ng-if="contract.repeatCount>0"> -- {{contract.repeatCount}} </p> </div>
					
					<div class="divContContainer overflow">
						<p class="parentidShow arial small-font darkGrey mar-bot-5 | filter:model.compFilter">{{contract.contractid}}</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="(contract.repeat_call==1 || contract.repeat_call==2) && contract.tmecode == login_user">Repeat call received from client regarding ECS Stop  on {{contract.repeatcall_taggedon}}</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5">Date: {{contract.date}}</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-switch on="contract.action_flag" ng-if="contract.tmecode == login_user">
							TME Status -
							<span ng-switch-when="4">Follow Up - {{contract.entry_date}}</span>
							<span ng-switch-when="5">Retain - {{contract.entry_date}}</span>
							<span ng-switch-when="9">Stopped by TME - {{contract.entry_date}}</span>
							<span ng-switch-when="18">upgraded by TME - {{contract.entry_date}}</span>
							<span ng-switch-when="19">Degraded by TME - {{contract.entry_date}}</span>
							<span ng-switch-when="21">Ringing - {{contract.entry_date}}</span>
							<span ng-switch-when="23">Not Contactable-ECS Continued - {{contract.entry_date}}</span>
							<span ng-switch-when="24">Retained-Skip ECS 1/2 month - {{contract.entry_date}}</span>
							<span ng-switch-when="25">Ignore Request - {{contract.entry_date}}</span>
							<span ng-switch-when="26">Invalid Data - {{contract.entry_date}}</span>
							<span ng-switch-when="27">Ecs Clarification Call - {{contract.entry_date}}</span>
							<span ng-switch-when="35">Requested For Business CloseDown Validation - {{contract.entry_date}}</span>
							<span ng-switch-when="36">Business Active - Reply From DB Team - {{contract.entry_date}}</span>
							<span ng-switch-when="37">Business CloseDown Confirmed - Reply From DB Team - {{contract.entry_date}}</span>
							<span ng-switch-when="38">Data has been sent to Website Support Team - {{contract.entry_date}}</span>
							<span ng-switch-default>N.A</span>
						</p>
						
<!--					<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.reactivate_flag==1">Reactivated-on:{{contract.reactivated_on}}</p>

						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.updatedate!='' && contract.reactivate_flag!=1">Date - {{contract.entry_date}}</p>
-->
						
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.transfer_by_cs==1">Data Recieve Mode - Call Transfer</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.allocate_by_cs==1">Data Recieve Mode - Allocation</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.ecs_reject_approved==1 && contract.tmecode == login_user">Branch Head Status - Approved</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.ecs_reject_approved==2 && contract.tmecode == login_user">Branch Head Status - Rejected</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.ecs_reject_approved==3 && contract.tmecode == login_user">Branch Head Status - Auto Approved</p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.reactivate_flag==1 && contract.tmecode == login_user">Re-activation request Accepted on:{{contract.reactivated_on}} </p>
						<p class="parentidShow arial small-font darkGrey mar-bot-5" ng-if="contract.reactivate_flag==2 && contract.tmecode == login_user">Re-activation request Rejected <br> reason:{{contract.reactivate_reject_comment}} on:{{contract.reactivated_on}} </p>
						
						<p class="parentidShow arial small-font mar-bot-5" style="cursor:pointer;color:#ea8400;font-size:15px;text-decoration: underline;" ng-if="contract.uploaded_files != '' && contract.uploaded_files != null" ng-click="OpenUploadedFiles($event,contract.uploaded_files)"> View Uploaded Files </p>
						
					</div>
					
					<div class="slideIndi left positionAbs bottom0 width100" ng-if="(contract.tmecode == login_user && (contract.ecs_reject_approved==2 || contract.state != 3)) || (contract.tmecode == login_user && contract.reactivate_flag == 1)">
						<div class="left arrow marTop10px" ng-click="slideright($event)"><img ng-src="img/arrow-left.png" /></div>
						<div class="upperLayerMenu left">
							<div class="left repPop setTotContWidth">
								<div class="left pointer repDivsIndi very-small-font darkGrey arial text-center marRt10px tmeStatusIcon">
									<div class="marBot10px" ng-if="contract.ecs_stop_flag == 1"><h3 style="color:green;">AS</h3></div>
									<div class="marBot10px" ng-if='contract.ecs_stop_flag != 1' ng-click="showReqTabs($event)"><h3 style="color:red;">Req</h3></div>
									<div>Action</div>
								</div>
								<div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px">
									<div class="marBot10px">
										<img ng-if="contract.tme_comments == '' || contract.tme_comments == null" ng-click="commentType($event)" ng-src="img/add.png" class="marTop7px" />
										<img ng-if="contract.tme_comments != '' && contract.tme_comments != null" ng-click="commentType($event)" ng-src="img/add-on.png" />
									</div>
									<div>TME Comment</div>
								</div>
								<div ng-click="showDataMode($event,8,contract.contractid,contract.compname)" class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px">
									<div class="marBot10px"><h3 style="color:black;">His..</h3></div>
									<div>View History</div>
								</div>
								<div ng-click="attachvlc(contract.contractid,contract.data_city,0)" class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px">
									<div class="marBot10px"><h3 style="color:black;">VLC</h3></div>
									<div>Send VLC</div>
								</div>	
								<div ng-click="showCats($event,contract.contractid)" class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px marTop7px"><div class="marBot10px"><img ng-src="img/more.png" /></div><div>Show Cats</div></div>
								<a ng-href="../00_Payment_Rework/add_on_payment/mode_selection.php?parentid={{contract.contractid}}&compname={{contract.compname | urlEncode}}" target="_blank"><div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px"><div class="marBot10px"><img ng-src="img/add-on.png" /></div><div>AddOn Payment</div></div></a>
								<a ng-href="../00_Payment_Rework/accounts/mandate_selection.php?parentid={{contract.contractid}}&compname={{contract.compname | urlEncode}}&flag=" target="_blank"><div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px"><div class="marBot10px"><h3>EM</h3></div><div>Ext. Mandate</div></div></a>
								<div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px" ng-click="checkTrackerRep($event,contract.contractid)"><div class="marBot10px"><img ng-src="img/report-small.png" /></div><div>Tracker Report</div></div>
								<a ng-href="../tmAlloc/companyFeedbackRep.php?contractID={{contract.contractid}}" target="_blank"><div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px"><div class="marBot10px"><img ng-src="img/phone2.png" /></div><div>Statement/Feed</div></div></a>
							</div>
						</div>
						<div class="left arrow marTop10px" ng-click="slideleft($event)"><img ng-src="img/arrow-right.png" /></div>
					</div>
					<div class='slideIndi left positionAbs bottom0 width100' ng-if="contract.tmecode != login_user || (contract.ecs_reject_approved != 2 && contract.state == 3) && contract.reactivate_flag !=1">
						<div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px" ng-if="(contract.escalated_details | split:',':1) == login_user && contract.action_flag==14" ng-click="reactivaterequest(contract,$event,$index)" >
							<div class="marBot10px"><h3 style="color:black;">RA</h3></div>
							<div>Re-Activate</div>
						</div>
						
						<div ng-click="showDataMode($event,8,contract.contractid,contract.compname)" class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px">
							<div class="marBot10px"><h3 style="color:black;">His..</h3></div>
							<div>View History</div>
						</div>
							
						<div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px">
							<div class="marBot10px">
								<img ng-if="contract.tme_comments == '' || contract.tme_comments == null" ng-click="commentType($event)" ng-src="img/add.png" class="marTop7px" />
								<img ng-if="contract.tme_comments != '' && contract.tme_comments != null" ng-click="commentType($event)" ng-src="img/add-on.png" />
							</div>
							<div>TME Comment</div>
						</div>
					</div>
				</div>
				<div class="tmeStatus coverOverlay hide colorWhite">
					<h3 class="loadingMini hide colorWhite">Loading...</h3>
					<a><div class="right arial" ng-click="closeOverlay($event)">X</div></a>
					<div class="catContain">
						<h3 class='blue'>{{contract.compname}}<br>({{contract.contractid}})</h3>
						<h3 class="colorWhite">Request To :</h3>
						<div class="catsShow pointer" ng-if="contract.website == '1'" ng-click="requestToDo($event,contract,38,1,$index,0)"><h4 class="colorWhite">Send to Web Suppert Team</h4></div>
<!--
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,35,1,$index,0)"><h4 class="colorWhite">Request For Business CloseDown Validation</h4></div>
-->
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,9,1,$index,0)"><h4 class="colorWhite">Stop</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,5,0,$index,0)"><h4 class="colorWhite">Retain</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,4,0,$index,0)"><h4 class="colorWhite">Follow Up</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,16,0,$index,0)"><h4 class="colorWhite">Upgrade</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,17,0,$index,0)"><h4 class="colorWhite">Degrade</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,21,0,$index,0)"><h4 class="colorWhite">Ringing</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,23,0,$index,0)"><h4 class="colorWhite">Not Contactable-ECS Continued</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,25,0,$index,0)"><h4 class="colorWhite">Ignore Request</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,26,0,$index,0)"><h4 class="colorWhite">Invalid Data</h4></div>
						<div class="catsShow pointer" ng-click="requestToDo($event,contract,27,0,$index,0)"><h4 class="colorWhite">Ecs Clarification Call</h4></div>
						<div class="catsShow pointer" ng-click="showdatepopup(contract)"><h4 class="colorWhite">Retained-Skip ECS 1/2 month</h4></div>
					</div>
				</div>
				<div class="catupeven coverOverlay hide colorWhite">
					<h3 class="loadingMini hide colorWhite">Loading...</h3>
					<a><div class="right arial" ng-click="closeOverlay($event)">X</div></a>
					<div class="catContain" ng-if="categories.errorCode=='0'">
						<h3 class="colorWhite">Categories for {{contract.compname|capitalize}}</h3>
						<div class="catsShow" ng-repeat="cats in categories.data">
							{{cats.category_name}}
						</div>
					</div>
					<div class="catContain" ng-if="categories.errorCode=='1'">
						<h3 class="colorWhite">Categories Not Present</h3>
					</div>
				</div>
				<form name="commentForm" ng-submit="setComment($event,contract.contractid,$index,contract.tme_comments)">
					<div class="Opaque_commentWindow_add coverOverlay hide colorWhite">
						<a><div class="right arial" ng-click="closeOverlay($event)">X</div></a>
						<center>
							<div class="commentDiv">
								<h3 class="colorWhite">{{commentMsg}} Your Comment Here</h3>
								<div>{{contract.tme_comments}}</div>
								<div class="add_commentDiv">
									<textarea  cols="41" rows="8"  ng-model="setCommentWorked" class="add_comment_cont"></textarea>
									<br/>
									<input type="submit" class="btn_add_comment" value="{{commentMsg}}" />
								</div>
							</div>
						</center>
					</div>
				</form>
				<form name="ReactivatecommentForm" ng-submit="setReactivateComment($event,contract,$index)">
					<div class="Opaque_retentionWindow_add coverOverlay hide colorWhite">
						<a><div class="right arial" ng-click="closeOverlay($event)">X</div></a>
						<center>
							<div class="commentDiv">
								<h3 class="colorWhite">Please enter the reason for Re-activation</h3>
								<div class="add_commentDiv">
									<textarea  cols="41" rows="8"  ng-model="ReactivateComment" class="add_comment_cont"></textarea>
									<br/>
									<input type="submit" class="btn_reactivate_comment" value="Submit" />
								</div>
							</div>
						</center>
					</div>
				</form>
				<div class="trackeroverlay coverOverlay hide colorWhite">
					<h3 class="loadingMini hide colorWhite">Loading...</h3>
					<a><div class="right arial" ng-click="closeOverlay($event)">X</div></a>
					<div class="catContain">
						<div class="colorWhite text-center" ng-if="trackRepChk.ECS == 1"><a class="colorWhite" ng-href="../00_Payment_Rework/accounts/ecs_tracker_report_tme.php?parentid={{contract.contractid}}&flag=1&me_tme={{employees.hrInfo.data.empcode}}" target="_blank"><h3 class="colorWhite">Click to see report for ECS</h3></a></div>
						<div class="colorWhite text-center" ng-if="trackRepChk.SI == 1"><a class="colorWhite" ng-href="../00_Payment_Rework/accounts/si_tracker_report_tme.php?parentid={{contract.contractid}}&flag=2&me_tme={{employees.hrInfo.data.empcode}}" target="_blank"><h3 class="colorWhite">Click to see report for SI</h3></a></div>
						<div class="colorWhite text-center" ng-if="trackRepChk.SI == 0 && trackRepChk.ECS == 0"><h3 class="colorWhite">Track Report is not available</h3></div>
					</div>
				</div>
			</div>
			<div class="tab-container width100" ng-if="viewParam	==	2">
				<div class="shiftArrow leftShiftArrow"  ng-click="setPageShiftRight()"></div>
				<div class="shiftArrow rightShiftArrow"ng-click="setPageShiftLeft()"></div>
				<div class="headerTable width100 border-bot-grey">
					<div class="tab-row repeat-animation">
						<div class="left widthFree blue headFont">
							<span>Companyname</span>
						</div>
						<div class="rotateRight">
							<div class="left widthFreeSmall text-center blue headFont" style="width:200px;">Company Id</div>
							<div class="left widthFreeSmall text-center blue headFont">TME Status</div>
							<div class="left widthFreeSmall text-center blue headFont">TME Comment</div>
							<div class="left widthFreeSmall text-center blue headFont">History</div>
							<div class="left widthFreeSmall text-center blue headFont">Action</div>
							<div class="left widthFreeSmall text-center blue headFont">Tracker Report</div>
							<div class="left widthFreeSmall text-center blue headFont">Branch Head Status</div>
							<div class="left widthFreeSmall text-center blue headFont">Date</div>
							<div class="left widthFreeSmall text-center blue headFont">VLC</div>
							<div class="left widthFreeSmall text-center blue headFont">Categories</div>
							<div class="left widthFreeSmall text-center blue headFont">Tagged As Repeat Call</div>
							<div class="left widthFreeSmall text-center blue headFont">Reactivate Request Status</div>
							<div class="left widthFreeSmall text-center blue headFont">Uploaded Files</div>
						</div>
					</div>
				</div>
				<div class="bodyTable width100">
					<div class="width100 border-bot-grey" ng-repeat="contract in retention.data">
						<div class="tab-row repeat-animation">
							<div class="left widthFree" style="color:  #e6004c !important;font-weight: bold;" ng-if="contract.request_source == 'web_dialer'">
								<span ng-if="contract.compname !='' && contract.compname != null" ng-click="goToBform(contract)" title="{{contract.contractid}}" class="pointer">{{contract.compname}}</span>
								<span ng-if="contract.compname =='' || contract.compname == null" ng-click="goToBform(contract)" class="pointer">Company Name Not Found</span>
							</div>
							
							<div class="left widthFree" style="color:red !important;font-weight: bold;" ng-if="(contract.repeat_call==1 || contract.repeat_call==2) && contract.request_source != 'web_dialer'">
								<span ng-if="contract.compname !='' && contract.compname != null" ng-click="goToBform(contract)" title="{{contract.contractid}}" class="pointer">{{contract.compname}}</span>
								<span ng-if="contract.compname =='' || contract.compname == null" ng-click="goToBform(contract)" class="pointer">Company Name Not Found</span>
							</div>
							<div class="left widthFree" ng-if="(contract.repeat_call !=1 && contract.repeat_call!=2) && contract.request_source != 'web_dialer'">
								<span ng-if="contract.compname !='' && contract.compname != null" ng-click="goToBform(contract)" title="{{contract.contractid}}" class="pointer">{{contract.compname}}</span>
								<span ng-if="contract.compname =='' || contract.compname == null" ng-click="goToBform(contract)" class="pointer">Company Name Not Found</span>
							</div>
							<div class="rotateRight">
								<div class="left widthFreeSmall pointer text-center" style="width:200px;">{{contract.contractid}}</div>
								<div class="left widthFreeSmall pointer text-center" ng-switch on="contract.action_flag" ng-if='contract.tmecode == login_user'>   
									<span ng-switch-when="4">Follow Up - {{contract.entry_date}}</span>
									<span ng-switch-when="5">Retain - {{contract.entry_date}}</span>
									<span ng-switch-when="9">Stopped by TME - {{contract.entry_date}}</span>
									<span ng-switch-when="18">upgraded by TME - {{contract.entry_date}}</span>
									<span ng-switch-when="19">Degraded by TME - {{contract.entry_date}}</span>   
									<span ng-switch-when="21">Ringing - {{contract.entry_date}}</span>
									<span ng-switch-when="23">Not Contactable-ECS Continued - {{contract.entry_date}}</span>
									<span ng-switch-when="24">Retained-Skip ECS 1/2 month - {{contract.entry_date}}</span>
									<span ng-switch-when="25">Ignore Request - {{contract.entry_date}}</span>
									<span ng-switch-when="26">Invalid Data - {{contract.entry_date}}</span>
									<span ng-switch-when="27">Ecs Clarification Call - {{contract.entry_date}}</span>
									<span ng-switch-when="35">Requested For Business CloseDown Validation - {{contract.entry_date}}</span>
									<span ng-switch-when="36">Business Active - Reply From DB Team - {{contract.entry_date}}</span>
									<span ng-switch-when="37">Business CloseDown Confirmed - Reply From DB Team - {{contract.entry_date}}</span>
									<span ng-switch-when="38">Data has been sent to Website Support Team - {{contract.entry_date}}</span>
									
									<span ng-switch-default>N.A</span>
								</div>
								<div class="left widthFreeSmall pointer text-center" ng-if='contract.tmecode != login_user'> --
								</div>
								<div class="left widthFreeSmall pointer text-center">
									<div>
										<img ng-if="contract.tme_comments == '' || contract.tme_comments == null" ng-click="showDataModeTab($event,9,contract.contractid,contract.compname,$index)" ng-src="img/add.png" class="marTop7px" />
										<img ng-if="contract.tme_comments != '' && contract.tme_comments != null" ng-click="showDataModeTab($event,9,contract.contractid,contract.compname,$index)" ng-src="img/add-on.png" />
									</div>
								</div>
								
								<div class='container' ng-if="(contract.tmecode == login_user && (contract.ecs_reject_approved==2 || contract.state != 3)) || (contract.tmecode == login_user && contract.reactivate_flag == 1)">
									<div ng-click="showDataModeTab($event,8,contract.contractid,contract.compname,$index)" class="left widthFreeSmall pointer text-center">
										<div><h4 style="color:black;">His..</h4></div>
									</div>
									
									<div class="left widthFreeSmall pointer text-center">
										<div ng-if="contract.ecs_stop_flag == 1"><span style="color:green;">AS</span></div>
<!--
										<div ng-click="requestToDo($event,contract,9,1,$index,1)" ng-if="((contract.repeat_call  != 1 && contract.action_flag == 5) || (contract.action_flag == 4 ||  contract.action_flag == 9 || contract.action_flag == 20 ) && contract.ecs_stop_flag != 1)"><span style="color:red;">Stop</span></div>
										<div ng-if="(contract.ecs_stop_flag != 1 && (contract.action_flag != 4 && contract.action_flag != 9 && contract.action_flag != 20 && contract.action_flag != 5 )) || (contract.action_flag == 5 && contract.repeat_call == 1)" ng-click="showDataModeTab($event,7,contract.contractid,contract.compname,$index)"><span style="color:red;">Req</span></div>
-->
									<div ng-if="contract.ecs_stop_flag != 1" ng-click="showDataModeTab($event,7,contract.contractid,contract.compname,$index)"><span style="color:red;">Req</span></div>
									</div>
								</div>
								
								<div class='container'  ng-if="contract.tmecode != login_user || (contract.ecs_reject_approved != 2 && contract.state == 3) && contract.reactivate_flag !=1">
									<div ng-click="showDataModeTab($event,8,contract.contractid,contract.compname,$index)" class="left widthFreeSmall pointer text-center">
										<div><h4 style="color:black;">His..</h4></div>
									</div>
									
									<div class="left widthFreeSmall pointer text-center">
										<div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px" ng-if="(contract.escalated_details | split:',':1) == login_user && contract.action_flag==14" 	ng-click="reactivaterequest(contract,$event,$index)" >
											<div class="marBot10px"><h5 style="color:black;padding-left:34px">Re-Activate</h5></div>
										</div>	
										
<!--
										<div class="left repDivsIndi very-small-font darkGrey arial text-center marRt10px" ng-if="((contract.escalated_details | split:',':1) != login_user && contract.action_flag!=14) || state ==3">
											<div class="marBot10px"><h5 style="color:black;padding-left:34px">--</h5></div>
										</div>	
-->
									</div>
									
								</div>
								
								
								
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecsTrackRep == 'ECS'" ng-click="subECSTrackRep(contract.contractid,employees.hrInfo.data.empcode,1)">{{contract.ecsTrackRep}}</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecsTrackRep == 'SI'" ng-click="subECSTrackRep(contract.contractid,employees.hrInfo.data.empcode,2)">{{contract.ecsTrackRep}}</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecsTrackRep == 'ECS/SI'">
									<span ng-click="subECSTrackRep(contract.contractid,employees.hrInfo.data.empcode,1)">ECS</span> /
									<span ng-click="subECSTrackRep(contract.contractid,employees.hrInfo.data.empcode,2)">SI</span>
								</div>
								
								
<!--
								<div class="marBot10px" ng-if="contract.ecs_stop_flag == 1"><h3 style="color:green;">AS</h3></div>
									<div class="marBot10px" ng-click="requestToDo($event,contract,9,1,$index,1)"  ng-if="((contract.repeat_call  != 1 && contract.action_flag == 5) || (contract.action_flag == 4 ||  contract.action_flag == 9 || contract.action_flag == 20 ) && contract.ecs_stop_flag != 1) "><h3 style="color:red;">Stop</h3></div>
									<div class="marBot10px"  ng-if="(contract.ecs_stop_flag != 1 && (contract.action_flag != 4 && contract.action_flag != 9 && contract.action_flag != 20 && contract.action_flag != 5 )) || (contract.action_flag == 5 && contract.repeat_call == 1)" ng-click="showReqTabs($event)"><h3 style="color:red;">Req</h3></div>
-->
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecs_reject_approved==1 && contract.tmecode == login_user">Approved</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecs_reject_approved==2 && contract.tmecode == login_user">Rejected</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecs_reject_approved==3 && contract.tmecode == login_user">Auto Approved</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.tmecode != login_user">--</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.ecs_reject_approved==0 && contract.tmecode == login_user">--</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.entry_date!= ''">{{contract.date}}</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.entry_date==''">--</div>
								<div ng-click="attachvlc(contract.contractid,contract.data_city,0)" class="left widthFreeSmall pointer text-center">
									<div>Send VLC</div>
								</div>
								<div  ng-click="showDataModeTab($event,2,contract.contractid,contract.compname,$index)" class="left widthFreeSmall pointer text-center"><img ng-src="img/more.png" /></div>
								<div class="left widthFreeSmall pointer text-center" ng-if="(contract.repeat_call==1 || contract.repeat_call==2) && contract.tmecode == login_user">YES on {{contract.repeatcall_taggedon}}</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="(contract.repeat_call !=1 && contract.repeat_call !=2) || contract.tmecode != login_user">NO</div>
<!--
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.tmecode != login_user">NO</div>
-->
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.reactivate_flag==1 && contract.tmecode == login_user">Accepted on: <br>{{contract.reactivated_on}} </div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.reactivate_flag==2 && contract.tmecode == login_user">Rejected <br>reason:{{contract.reactivate_reject_comment}}</div>
								<div class="left widthFreeSmall pointer text-center" ng-if="contract.reactivate_flag == 0 || contract.tmecode != login_user">--</div>
								
								<div class="left widthFreeSmall pointer text-center" style="color: #ea8400;cursor: pointer;font-size: 14px;font-weight: bold;text-decoration: underline;" ng-if="contract.uploaded_files != '' && contract.uploaded_files != null" ng-click="OpenUploadedFiles($event,contract.uploaded_files)"> View Uploaded Files </div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<form name="tracker_report_ecs" action="../00_Payment_Rework/accounts/ecs_tracker_report_tme.php" target="_blank" method="post" class="trackRepEcs">
			<input type="hidden" name="parentid" value="{{parentIdTrackRep}}" />
			<input type="hidden" name="flag" value="{{flagTrackRep}}" />
			<input type="hidden" name="me_tme" value="{{empCodeTrackRep}}" />
		</form>
		<form name="tracker_report_si" action="../00_Payment_Rework/accounts/si_tracker_report_tme.php" target="_blank" method="post" class="trackRepSI">
			<input type="hidden" name="parentid" value="{{parentIdTrackRep}}" />
			<input type="hidden" name="flag" value="{{flagTrackRep}}" />
			<input type="hidden" name="me_tme" value="{{empCodeTrackRep}}" />
		</form>
	</section>
	<section ng-if="retention.errorCode == 1" class="text-center">
		<div style="font-size:294px;">:(</div>
		<h2>Sorry! No contracts are allocated to you.</h2>
	</section>
</section>
